#! /usr/bin/vvp
:ivl_version "11.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/system.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/va_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2009.vpi";
S_0x5e7d6ff84790 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x5e7d6ff84920 .scope package, "npu_pkg" "npu_pkg" 3 9;
 .timescale 0 0;
P_0x5e7d6ffa8dc0 .param/l "ACC_WIDTH" 0 3 23, +C4<00000000000000000000000000100000>;
P_0x5e7d6ffa8e00 .param/l "ACT_BUF_SIZE" 0 3 28, +C4<00000000000001000000000000000000>;
P_0x5e7d6ffa8e40 .param/l "AXIL_ADDR_WIDTH" 0 3 39, +C4<00000000000000000000000000100000>;
P_0x5e7d6ffa8e80 .param/l "AXIL_DATA_WIDTH" 0 3 38, +C4<00000000000000000000000000100000>;
P_0x5e7d6ffa8ec0 .param/l "AXI_ADDR_WIDTH" 0 3 33, +C4<00000000000000000000000000101000>;
P_0x5e7d6ffa8f00 .param/l "AXI_DATA_WIDTH" 0 3 32, +C4<00000000000000000000000010000000>;
P_0x5e7d6ffa8f40 .param/l "AXI_ID_WIDTH" 0 3 34, +C4<00000000000000000000000000001000>;
P_0x5e7d6ffa8f80 .param/l "AXI_STRB_WIDTH" 0 3 35, +C4<00000000000000000000000000010000>;
P_0x5e7d6ffa8fc0 .param/l "DATA_WIDTH" 0 3 21, +C4<00000000000000000000000000001000>;
P_0x5e7d6ffa9000 .param/l "INST_BUF_SIZE" 0 3 29, +C4<00000000000000000100000000000000>;
P_0x5e7d6ffa9040 .param/l "NPU_VERSION" 1 3 157, C4<00000000000000010000000000000000>;
P_0x5e7d6ffa9080 .param/l "NUM_PES" 0 3 18, +C4<00000000000000000000000100000000>;
P_0x5e7d6ffa90c0 .param/l "OUTPUT_WIDTH" 0 3 24, +C4<00000000000000000000000000001000>;
P_0x5e7d6ffa9100 .param/l "PE_COLS" 0 3 17, +C4<00000000000000000000000000010000>;
P_0x5e7d6ffa9140 .param/l "PE_ROWS" 0 3 16, +C4<00000000000000000000000000010000>;
P_0x5e7d6ffa9180 .param/l "REG_CONFIG" 1 3 148, C4<000000010100>;
P_0x5e7d6ffa91c0 .param/l "REG_CTRL" 1 3 143, C4<000000000000>;
P_0x5e7d6ffa9200 .param/l "REG_DMA_CTRL" 1 3 150, C4<000100000000>;
P_0x5e7d6ffa9240 .param/l "REG_DMA_DST" 1 3 153, C4<000100001100>;
P_0x5e7d6ffa9280 .param/l "REG_DMA_LEN" 1 3 154, C4<000100010000>;
P_0x5e7d6ffa92c0 .param/l "REG_DMA_SRC" 1 3 152, C4<000100001000>;
P_0x5e7d6ffa9300 .param/l "REG_DMA_STATUS" 1 3 151, C4<000100000100>;
P_0x5e7d6ffa9340 .param/l "REG_IRQ_EN" 1 3 145, C4<000000001000>;
P_0x5e7d6ffa9380 .param/l "REG_IRQ_STATUS" 1 3 146, C4<000000001100>;
P_0x5e7d6ffa93c0 .param/l "REG_PERF_CNT" 1 3 149, C4<000000100000>;
P_0x5e7d6ffa9400 .param/l "REG_STATUS" 1 3 144, C4<000000000100>;
P_0x5e7d6ffa9440 .param/l "REG_VERSION" 1 3 147, C4<000000010000>;
P_0x5e7d6ffa9480 .param/l "WEIGHT_BUF_SIZE" 0 3 27, +C4<00000000000001000000000000000000>;
P_0x5e7d6ffa94c0 .param/l "WEIGHT_WIDTH" 0 3 22, +C4<00000000000000000000000000001000>;
enum0x5e7d6ff324e0 .enum4 (4)
   "OP_NOP" 4'b0000,
   "OP_CONV" 4'b0001,
   "OP_FC" 4'b0010,
   "OP_POOL" 4'b0011,
   "OP_ACT" 4'b0100,
   "OP_LOAD" 4'b0101,
   "OP_STORE" 4'b0110,
   "OP_SYNC" 4'b0111,
   "OP_ADD" 4'b1000,
   "OP_MUL" 4'b1001,
   "OP_CONCAT" 4'b1010,
   "OP_SPLIT" 4'b1011
 ;
enum0x5e7d6ff68440 .enum4 (3)
   "ACT_NONE" 3'b000,
   "ACT_RELU" 3'b001,
   "ACT_RELU6" 3'b010,
   "ACT_SIGMOID" 3'b011,
   "ACT_TANH" 3'b100,
   "ACT_SWISH" 3'b101,
   "ACT_GELU" 3'b110
 ;
enum0x5e7d6ff8ed60 .enum4 (2)
   "POOL_MAX" 2'b00,
   "POOL_AVG" 2'b01,
   "POOL_GLOBAL" 2'b10
 ;
enum0x5e7d6ff8f4f0 .enum4 (2)
   "FMT_INT8" 2'b00,
   "FMT_INT16" 2'b01,
   "FMT_FP16" 2'b10,
   "FMT_BF16" 2'b11
 ;
S_0x5e7d6ff7bd90 .scope autofunction.vec2.u32, "calc_conv_output_size" "calc_conv_output_size" 3 164, 3 164 0, S_0x5e7d6ff84920;
 .timescale 0 0;
; Variable calc_conv_output_size is bool return value of scope S_0x5e7d6ff7bd90
v0x5e7d6ff85a80_0 .var/2s "dilation", 31 0;
v0x5e7d6ffc9050_0 .var/2s "effective_kernel", 31 0;
v0x5e7d6ffc9110_0 .var/2s "input_size", 31 0;
v0x5e7d6ffc91f0_0 .var/2s "kernel_size", 31 0;
v0x5e7d6ffc9320_0 .var/2s "padding", 31 0;
v0x5e7d6ffc9400_0 .var/2s "stride", 31 0;
TD_npu_pkg.calc_conv_output_size ;
    %load/vec4 v0x5e7d6ffc91f0_0;
    %subi 1, 0, 32;
    %load/vec4 v0x5e7d6ff85a80_0;
    %mul;
    %addi 1, 0, 32;
    %cast2;
    %store/vec4 v0x5e7d6ffc9050_0, 0, 32;
    %load/vec4 v0x5e7d6ffc9110_0;
    %load/vec4 v0x5e7d6ffc9320_0;
    %muli 2, 0, 32;
    %add;
    %load/vec4 v0x5e7d6ffc9050_0;
    %sub;
    %load/vec4 v0x5e7d6ffc9400_0;
    %div/s;
    %addi 1, 0, 32;
    %cast2;
    %ret/vec4 0, 0, 32;  Assign to calc_conv_output_size (store_vec4_to_lval)
    %disable S_0x5e7d6ff7bd90;
    %end;
S_0x5e7d6ffc94e0 .scope autofunction.vec4.s32, "saturate" "saturate" 3 176, 3 176 0, S_0x5e7d6ff84920;
 .timescale 0 0;
v0x5e7d6ffc96e0_0 .var/s "max_val", 47 0;
v0x5e7d6ffc97c0_0 .var/s "min_val", 47 0;
; Variable saturate is vec4 return value of scope S_0x5e7d6ffc94e0
v0x5e7d6ffc9960_0 .var/s "value", 47 0;
v0x5e7d6ffc9a40_0 .var/2s "width", 31 0;
TD_npu_pkg.saturate ;
    %fork t_1, S_0x5e7d6ffc94e0;
    %jmp t_0;
    .scope S_0x5e7d6ffc94e0;
t_1 ;
    %pushi/vec4 1, 0, 48;
    %load/vec4 v0x5e7d6ffc9a40_0;
    %subi 1, 0, 32;
    %ix/vec4 4;
    %shiftl 4;
    %subi 1, 0, 48;
    %store/vec4 v0x5e7d6ffc96e0_0, 0, 48;
    %pushi/vec4 1, 0, 48;
    %load/vec4 v0x5e7d6ffc9a40_0;
    %subi 1, 0, 32;
    %ix/vec4 4;
    %shiftl 4;
    %inv;
    %pushi/vec4 1, 0, 48;
    %add;
    %store/vec4 v0x5e7d6ffc97c0_0, 0, 48;
    %load/vec4 v0x5e7d6ffc96e0_0;
    %load/vec4 v0x5e7d6ffc9960_0;
    %cmp/s;
    %jmp/0xz  T_1.0, 5;
    %load/vec4 v0x5e7d6ffc96e0_0;
    %parti/s 32, 0, 2;
    %ret/vec4 0, 0, 32;  Assign to saturate (store_vec4_to_lval)
    %disable S_0x5e7d6ffc94e0;
    %jmp T_1.1;
T_1.0 ;
    %load/vec4 v0x5e7d6ffc9960_0;
    %load/vec4 v0x5e7d6ffc97c0_0;
    %cmp/s;
    %jmp/0xz  T_1.2, 5;
    %load/vec4 v0x5e7d6ffc97c0_0;
    %parti/s 32, 0, 2;
    %ret/vec4 0, 0, 32;  Assign to saturate (store_vec4_to_lval)
    %disable S_0x5e7d6ffc94e0;
    %jmp T_1.3;
T_1.2 ;
    %load/vec4 v0x5e7d6ffc9960_0;
    %parti/s 32, 0, 2;
    %ret/vec4 0, 0, 32;  Assign to saturate (store_vec4_to_lval)
    %disable S_0x5e7d6ffc94e0;
T_1.3 ;
T_1.1 ;
    %end;
    .scope S_0x5e7d6ffc94e0;
t_0 %join;
    %end;
S_0x5e7d6ff7bac0 .scope module, "tb_pe" "tb_pe" 4 8;
 .timescale -9 -12;
P_0x5e7d6ff8abd0 .param/l "ACC_WIDTH" 0 4 16, +C4<00000000000000000000000000100000>;
P_0x5e7d6ff8ac10 .param/l "CLK_PERIOD" 0 4 17, +C4<00000000000000000000000000001010>;
P_0x5e7d6ff8ac50 .param/l "DATA_WIDTH" 0 4 14, +C4<00000000000000000000000000001000>;
P_0x5e7d6ff8ac90 .param/l "WEIGHT_WIDTH" 0 4 15, +C4<00000000000000000000000000001000>;
v0x5e7d6ffcb340_0 .net/s "acc_out", 31 0, L_0x5e7d6ffcc3c0;  1 drivers
v0x5e7d6ffcb420_0 .net "acc_valid", 0 0, L_0x5e7d6ffcc4d0;  1 drivers
v0x5e7d6ffcb4f0_0 .var "clear_acc", 0 0;
v0x5e7d6ffcb5f0_0 .var "clk", 0 0;
v0x5e7d6ffcb6c0_0 .var/s "data_in", 7 0;
v0x5e7d6ffcb760_0 .net/s "data_out", 7 0, L_0x5e7d6ffa48b0;  1 drivers
v0x5e7d6ffcb830_0 .var "enable", 0 0;
v0x5e7d6ffcb900_0 .var "load_weight", 0 0;
v0x5e7d6ffcb9d0_0 .var "rst_n", 0 0;
v0x5e7d6ffcbaa0_0 .var/s "weight_in", 7 0;
S_0x5e7d6ffc9b70 .scope module, "dut" "pe" 4 42, 5 6 0, S_0x5e7d6ff7bac0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 1 "enable";
    .port_info 3 /INPUT 1 "clear_acc";
    .port_info 4 /INPUT 1 "load_weight";
    .port_info 5 /INPUT 8 "data_in";
    .port_info 6 /INPUT 8 "weight_in";
    .port_info 7 /OUTPUT 8 "data_out";
    .port_info 8 /OUTPUT 32 "acc_out";
    .port_info 9 /OUTPUT 1 "acc_valid";
P_0x5e7d6ff32620 .param/l "ACC_WIDTH" 0 5 11, +C4<00000000000000000000000000100000>;
P_0x5e7d6ff32660 .param/l "DATA_WIDTH" 0 5 9, +C4<00000000000000000000000000001000>;
P_0x5e7d6ff326a0 .param/l "WEIGHT_WIDTH" 0 5 10, +C4<00000000000000000000000000001000>;
L_0x5e7d6ffa48b0 .functor BUFZ 8, v0x5e7d6ffcab20_0, C4<00000000>, C4<00000000>, C4<00000000>;
L_0x5e7d6ffcc3c0 .functor BUFZ 32, v0x5e7d6ffca560_0, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>, C4<00000000000000000000000000000000>;
L_0x5e7d6ffcc4d0 .functor BUFZ 1, v0x5e7d6ffcaf20_0, C4<0>, C4<0>, C4<0>;
v0x5e7d6ffc9fa0_0 .net/s *"_ivl_0", 15 0, L_0x5e7d6ffcbb70;  1 drivers
v0x5e7d6ffca0a0_0 .net *"_ivl_10", 31 0, L_0x5e7d6ffcc1a0;  1 drivers
v0x5e7d6ffca180_0 .net/s *"_ivl_2", 15 0, L_0x5e7d6ffcbc40;  1 drivers
v0x5e7d6ffca270_0 .net *"_ivl_7", 0 0, L_0x5e7d6ffcbe80;  1 drivers
v0x5e7d6ffca350_0 .net *"_ivl_8", 15 0, L_0x5e7d6ffcbfa0;  1 drivers
v0x5e7d6ffca480_0 .net/s "acc_out", 31 0, L_0x5e7d6ffcc3c0;  alias, 1 drivers
v0x5e7d6ffca560_0 .var/s "acc_reg", 31 0;
v0x5e7d6ffca640_0 .net "acc_valid", 0 0, L_0x5e7d6ffcc4d0;  alias, 1 drivers
v0x5e7d6ffca700_0 .net/s "add_result", 31 0, L_0x5e7d6ffcc280;  1 drivers
v0x5e7d6ffca7e0_0 .net "clear_acc", 0 0, v0x5e7d6ffcb4f0_0;  1 drivers
v0x5e7d6ffca8a0_0 .net "clk", 0 0, v0x5e7d6ffcb5f0_0;  1 drivers
v0x5e7d6ffca960_0 .net/s "data_in", 7 0, v0x5e7d6ffcb6c0_0;  1 drivers
v0x5e7d6ffcaa40_0 .net/s "data_out", 7 0, L_0x5e7d6ffa48b0;  alias, 1 drivers
v0x5e7d6ffcab20_0 .var/s "data_reg", 7 0;
v0x5e7d6ffcac00_0 .net "enable", 0 0, v0x5e7d6ffcb830_0;  1 drivers
v0x5e7d6ffcacc0_0 .net "load_weight", 0 0, v0x5e7d6ffcb900_0;  1 drivers
v0x5e7d6ffcad80_0 .net/s "mult_result", 15 0, L_0x5e7d6ffcbd10;  1 drivers
v0x5e7d6ffcae60_0 .net "rst_n", 0 0, v0x5e7d6ffcb9d0_0;  1 drivers
v0x5e7d6ffcaf20_0 .var "valid_reg", 0 0;
v0x5e7d6ffcafe0_0 .net/s "weight_in", 7 0, v0x5e7d6ffcbaa0_0;  1 drivers
v0x5e7d6ffcb0c0_0 .var/s "weight_reg", 7 0;
E_0x5e7d6ff80000/0 .event negedge, v0x5e7d6ffcae60_0;
E_0x5e7d6ff80000/1 .event posedge, v0x5e7d6ffca8a0_0;
E_0x5e7d6ff80000 .event/or E_0x5e7d6ff80000/0, E_0x5e7d6ff80000/1;
L_0x5e7d6ffcbb70 .extend/s 16, v0x5e7d6ffcb6c0_0;
L_0x5e7d6ffcbc40 .extend/s 16, v0x5e7d6ffcb0c0_0;
L_0x5e7d6ffcbd10 .arith/mult 16, L_0x5e7d6ffcbb70, L_0x5e7d6ffcbc40;
L_0x5e7d6ffcbe80 .part L_0x5e7d6ffcbd10, 15, 1;
LS_0x5e7d6ffcbfa0_0_0 .concat [ 1 1 1 1], L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80;
LS_0x5e7d6ffcbfa0_0_4 .concat [ 1 1 1 1], L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80;
LS_0x5e7d6ffcbfa0_0_8 .concat [ 1 1 1 1], L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80;
LS_0x5e7d6ffcbfa0_0_12 .concat [ 1 1 1 1], L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80, L_0x5e7d6ffcbe80;
L_0x5e7d6ffcbfa0 .concat [ 4 4 4 4], LS_0x5e7d6ffcbfa0_0_0, LS_0x5e7d6ffcbfa0_0_4, LS_0x5e7d6ffcbfa0_0_8, LS_0x5e7d6ffcbfa0_0_12;
L_0x5e7d6ffcc1a0 .concat [ 16 16 0 0], L_0x5e7d6ffcbd10, L_0x5e7d6ffcbfa0;
L_0x5e7d6ffcc280 .arith/sum 32, v0x5e7d6ffca560_0, L_0x5e7d6ffcc1a0;
    .scope S_0x5e7d6ffc9b70;
T_2 ;
    %wait E_0x5e7d6ff80000;
    %load/vec4 v0x5e7d6ffcae60_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x5e7d6ffcb0c0_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x5e7d6ffcab20_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x5e7d6ffca560_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x5e7d6ffcaf20_0, 0;
    %jmp T_2.1;
T_2.0 ;
    %load/vec4 v0x5e7d6ffcacc0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.2, 8;
    %load/vec4 v0x5e7d6ffcafe0_0;
    %assign/vec4 v0x5e7d6ffcb0c0_0, 0;
T_2.2 ;
    %load/vec4 v0x5e7d6ffca7e0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.4, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x5e7d6ffca560_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x5e7d6ffcaf20_0, 0;
    %jmp T_2.5;
T_2.4 ;
    %load/vec4 v0x5e7d6ffcac00_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_2.6, 8;
    %load/vec4 v0x5e7d6ffca960_0;
    %assign/vec4 v0x5e7d6ffcab20_0, 0;
    %load/vec4 v0x5e7d6ffca700_0;
    %assign/vec4 v0x5e7d6ffca560_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x5e7d6ffcaf20_0, 0;
T_2.6 ;
T_2.5 ;
T_2.1 ;
    %jmp T_2;
    .thread T_2;
    .scope S_0x5e7d6ff7bac0;
T_3 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb5f0_0, 0, 1;
T_3.0 ;
    %delay 5000, 0;
    %load/vec4 v0x5e7d6ffcb5f0_0;
    %inv;
    %store/vec4 v0x5e7d6ffcb5f0_0, 0, 1;
    %jmp T_3.0;
    %end;
    .thread T_3;
    .scope S_0x5e7d6ff7bac0;
T_4 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb9d0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb830_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb4f0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb900_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x5e7d6ffcb6c0_0, 0, 8;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x5e7d6ffcbaa0_0, 0, 8;
    %delay 50000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5e7d6ffcb9d0_0, 0, 1;
    %delay 20000, 0;
    %vpi_call/w 4 83 "$display", "Test 1: Load weight = 5" {0 0 0};
    %pushi/vec4 5, 0, 8;
    %store/vec4 v0x5e7d6ffcbaa0_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5e7d6ffcb900_0, 0, 1;
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb900_0, 0, 1;
    %vpi_call/w 4 90 "$display", "Test 2: MAC operations" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5e7d6ffcb4f0_0, 0, 1;
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb4f0_0, 0, 1;
    %pushi/vec4 3, 0, 8;
    %store/vec4 v0x5e7d6ffcb6c0_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5e7d6ffcb830_0, 0, 1;
    %delay 10000, 0;
    %vpi_call/w 4 99 "$display", "  3 * 5 = 15, acc_out = %0d", v0x5e7d6ffcb340_0 {0 0 0};
    %pushi/vec4 4, 0, 8;
    %store/vec4 v0x5e7d6ffcb6c0_0, 0, 8;
    %delay 10000, 0;
    %vpi_call/w 4 104 "$display", "  4 * 5 = 20, acc_out = %0d (expected 35)", v0x5e7d6ffcb340_0 {0 0 0};
    %pushi/vec4 254, 0, 8;
    %store/vec4 v0x5e7d6ffcb6c0_0, 0, 8;
    %delay 10000, 0;
    %vpi_call/w 4 109 "$display", "  -2 * 5 = -10, acc_out = %0d (expected 25)", v0x5e7d6ffcb340_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb830_0, 0, 1;
    %vpi_call/w 4 114 "$display", "Test 3: Clear accumulator" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5e7d6ffcb4f0_0, 0, 1;
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb4f0_0, 0, 1;
    %vpi_call/w 4 118 "$display", "  After clear, acc_out = %0d (expected 0)", v0x5e7d6ffcb340_0 {0 0 0};
    %vpi_call/w 4 121 "$display", "Test 4: Negative weight = -3" {0 0 0};
    %pushi/vec4 253, 0, 8;
    %store/vec4 v0x5e7d6ffcbaa0_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5e7d6ffcb900_0, 0, 1;
    %delay 10000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb900_0, 0, 1;
    %pushi/vec4 7, 0, 8;
    %store/vec4 v0x5e7d6ffcb6c0_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x5e7d6ffcb830_0, 0, 1;
    %delay 10000, 0;
    %vpi_call/w 4 130 "$display", "  7 * (-3) = -21, acc_out = %0d", v0x5e7d6ffcb340_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x5e7d6ffcb830_0, 0, 1;
    %delay 100000, 0;
    %vpi_call/w 4 136 "$display", "\012========================================" {0 0 0};
    %vpi_call/w 4 137 "$display", "All tests completed!" {0 0 0};
    %vpi_call/w 4 138 "$display", "========================================\012" {0 0 0};
    %vpi_call/w 4 139 "$finish" {0 0 0};
    %end;
    .thread T_4;
    .scope S_0x5e7d6ff7bac0;
T_5 ;
    %vpi_call/w 4 147 "$dumpfile", "tb_pe.vcd" {0 0 0};
    %vpi_call/w 4 148 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x5e7d6ff7bac0 {0 0 0};
    %end;
    .thread T_5;
# The file index is used to find the file name in the following table.
:file_names 6;
    "N/A";
    "<interactive>";
    "-";
    "rtl/top/npu_pkg.sv";
    "verification/tb/unit/tb_pe.sv";
    "rtl/core/pe_array/pe.sv";
